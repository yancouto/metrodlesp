<!doctype html>
<html lang="en">
<head>
  <link rel="icon" type="image/png" href="/favicon.ico">
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Metrodle SP</title>
  <!-- Basic description for search engines and link previews -->
  <meta name="description" content="Metrodle SP: adivinhe a estação do metrô de São Paulo em até 6 tentativas."/>
  <!-- Open Graph for rich link previews -->
  <meta property="og:type" content="website"/>
  <meta property="og:site_name" content="Metrodle SP"/>
  <meta property="og:title" content="Metrodle SP — Jogo diário de estações"/>
  <meta property="og:description" content="Adivinhe a estação do metrô de São Paulo em até 6 tentativas."/>
  <meta property="og:url" content="https://yancouto.github.io/metrodlesp/"/>
  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary"/>
  <meta name="twitter:title" content="Metrodle SP — Jogo diário de estações"/>
  <meta name="twitter:description" content="Adivinhe a estação do metrô/CPTM de São Paulo em até 6 tentativas."/>
  <link rel="canonical" href="https://yancouto.github.io/metrodlesp/"/>
  <link rel="stylesheet" href="./styles.css" />
  <meta name="theme-color" content="#111" />
</head>
<body>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-61X7Z80Y79"></script>
<script>
  window.dataLayer = window.dataLayer || [];

  function gtag() {
    dataLayer.push(arguments);
  }

  gtag('js', new Date());

  gtag('config', 'G-61X7Z80Y79');
</script>
  <header class="topbar">
    <h1>Metrodle SP <span class="tagline">Que estação é essa?</span></h1>
    <div class="actions">
      <button id="statsBtn" aria-label="Stats">📊</button>
      <button id="helpBtn" aria-label="Help">❔</button>
    </div>
  </header>

  <main class="container">
    <section class="map">
      <div id="mapImage" class="map-image" role="img" aria-label="Mapa da estação do dia (sem nomes)">
        <div class="placeholder">Mapa da estação (placeholder)</div>
      </div>
      <div id="suggestions" class="suggestions" aria-live="polite"></div>
    </section>

    <section id="guesses" class="guesses" aria-live="polite"></section>

    <section class="input-area">
      <form id="guessForm" autocomplete="off">
        <label for="guessInput" class="sr-only">Digite o nome da estação ou da linha</label>
        <input id="guessInput" name="guess" type="text" placeholder="Estação ou linha..." autocomplete="off" autocapitalize="none" autocorrect="off" required />
        <datalist id="stationsList"></datalist>
        <div class="form-actions">
          <button id="backspaceBtn" type="button" aria-label="Apagar">⌫</button>
          <button id="okBtn" type="submit">Enter</button>
        </div>
      </form>

      <div id="hint" class="hint"></div>
      <div id="keyboard" class="keyboard" aria-label="Teclado virtual"></div>
    </section>

    <section class="share-area" style="display:none">
      <button id="shareBtn" disabled>Compartilhar resultado</button>
      <div id="shareMsg" class="share-msg" role="status"></div>
    </section>
  </main>

  <dialog id="endDialog">
    <h2>Concluído</h2>
    <p id="endSummary"></p>
    <button id="endShareBtn">Compartilhar resultado</button>
    <div id="endShareMsg" class="share-msg" role="status"></div>
    <button id="endCloseBtn">Fechar</button>
  </dialog>

  <dialog id="helpDialog">
    <h2>Como jogar</h2>
    <ul>
      <li>O objetivo é acertar a estação de metrô do mapa.</li>
      <li>Há um novo desafio por dia. Você tem 6 tentativas.</li>
      <li>Digite o nome da estação (ou da linha) para buscar e tentar.</li>
      <li>Após um palpite errado, você verá se as cores das linhas da estação fazem parte da estação alvo, e a
        distância.
      </li>
      <li>Compartilhe seu resultado quando terminar.</li>
    </ul>
    <button id="helpClose">Fechar</button>
  </dialog>

  <dialog id="statsDialog">
    <h2>Estatísticas</h2>
    <div class="stats-grid">
      <div><div id="statPlayed" class="stat">0</div><div class="stat-label">Jogos</div></div>
      <div><div id="statWin" class="stat">0</div><div class="stat-label">Vitórias</div></div>
      <div><div id="statStreak" class="stat">0</div><div class="stat-label">Sequência</div></div>
      <div><div id="statBest" class="stat">0</div><div class="stat-label">Melhor</div></div>
    </div>
    <div id="guessHist" class="hist" aria-label="Distribuição de vitórias por tentativas"></div>
    <p id="statsSummary"></p>
    <div id="nextTimer" class="next-timer" aria-live="polite"></div>
    <button id="statsShareBtn" disabled>Compartilhar resultado</button>
    <div id="statsShareMsg" class="share-msg" role="status"></div>
    <button id="statsClose">Fechar</button>
  </dialog>

  <script type="module" src="/src/index.ts"></script>
</body>
</html>
